<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, 
                   initial-scale=1.0">
    <title>
        Document
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="dropdown m-4">
        <span class="
                       dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"
            aria-expanded="false">
            Dropdown button
        </span>
        <ul class="dropdown-menu pt-0" aria-labelledby="dropdownMenuButton1" id="dropdown-menuPerson">
            <input type="text" class="form-control 
                          border-0 border-bottom 
                          shadow-none mb-2" placeholder="Search..." oninput="handleInput()">
        </ul>
    </div>
    <script>

        const handleInput = () => {
            const inputValue = document.querySelector('.form-control').value;
            const results =
                ["apple", "banana", "cherry",
                    "date", "elderberry"];
            // const parentElement = document.querySelector(".dropdown-menu");
            const parentElement = document.querySelector("#dropdown-menuPerson");
            const elementsToRemove = document.querySelectorAll(".dropdown-itemPerson");
            elementsToRemove.forEach(element => {
                element.remove();
            });
            if (inputValue) {
                const matchingWords = results.filter(word => word.includes(inputValue));
                matchingWords.sort((a, b) => {
                    const indexA =
                        a.indexOf(inputValue);
                    const indexB =
                        b.indexOf(inputValue);
                    return indexA - indexB;
                });


                matchingWords.forEach(word => {
                    const listItem = document.createElement("li");
                    listItem.classList.add("dropdown-itemPerson");
                    const link = document.createElement("a");
                    link.classList.add("dropdown-item");
                    link.href = "#";
                    link.textContent = word;
                    listItem.appendChild(link);
                    parentElement.appendChild(listItem);
                });

                if (matchingWords.length == 0) {
                    const listItem =
                        document.createElement('li');
                    listItem.textContent = "No Item";
                    listItem.classList.add('dropdown-item');
                    parentElement.appendChild(listItem);
                }
            } else {
                results.forEach(word => {
                    const listItem =
                        document.createElement("li");
                    listItem.classList.add("dropdown-itemPerson");
                    const link =
                        document.createElement("a");
                    link.classList.add("dropdown-item");
                    link.href = "#";
                    link.textContent = word;
                    listItem.appendChild(link);
                    parentElement.appendChild(listItem);
                });
            }
        }
        handleInput();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js">

    </script>
</body>

</html>